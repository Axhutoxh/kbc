{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/web.immediate.js\";\n/*!\n * vue-social-auth v1.4.0\n * https://github.com/diadal/vue-social-auth\n * Released under the MIT License.\n */\n\nif (typeof Object.assign != 'function') {\n  Object.assign = function (target, varArgs) {\n    'use strict';\n\n    var arguments$1 = arguments;\n    if (target == null) {\n      throw new TypeError('Cannot convert undefined or null to object');\n    }\n    var to = Object(target);\n    for (var index = 1; index < arguments.length; index++) {\n      var nextSource = arguments$1[index];\n      if (nextSource != null) {\n        // Skip over if undefined or null\n        for (var nextKey in nextSource) {\n          // Avoid bugs when hasOwnProperty is shadowed\n          if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n    }\n    return to;\n  };\n}\nfunction camelCase(name) {\n  return name.replace(/([\\:\\-\\_]+(.))/g, function (_, separator, letter, offset) {\n    return offset ? letter.toUpperCase() : letter;\n  });\n}\nfunction isUndefined(value) {\n  return typeof value === 'undefined';\n}\nfunction isString(value) {\n  return typeof value === 'string';\n}\nfunction isFunction(value) {\n  return typeof value === 'function';\n}\nfunction objectExtend(a, b) {\n  // Don't touch 'null' or 'undefined' objects.\n  if (a == null || b == null) {\n    return a;\n  }\n  Object.keys(b).forEach(function (key) {\n    if (Object.prototype.toString.call(b[key]) == '[object Object]') {\n      if (Object.prototype.toString.call(a[key]) != '[object Object]') {\n        a[key] = b[key];\n      } else {\n        a[key] = objectExtend(a[key], b[key]);\n      }\n    } else {\n      a[key] = b[key];\n    }\n  });\n  return a;\n}\n\n/**\n * Assemble url from two segments\n * \n * @author Sahat Yalkabov <https://github.com/sahat>\n * @copyright Method taken from https://github.com/sahat/satellizer\n * \n * @param  {String} baseUrl Base url\n * @param  {String} url     URI\n * @return {String}\n */\nfunction joinUrl(baseUrl, url) {\n  if (/^(?:[a-z]+:)?\\/\\//i.test(url)) {\n    return url;\n  }\n  var joined = [baseUrl, url].join('/');\n  var normalize = function (str) {\n    return str.replace(/[\\/]+/g, '/').replace(/\\/\\?/g, '?').replace(/\\/\\#/g, '#').replace(/\\:\\//g, '://');\n  };\n  return normalize(joined);\n}\n\n/**\n * Get full path based on current location\n * \n * @author Sahat Yalkabov <https://github.com/sahat>\n * @copyright Method taken from https://github.com/sahat/satellizer\n * \n * @param  {Location} location\n * @return {String}\n */\nfunction getFullUrlPath(location) {\n  var isHttps = location.protocol === 'https:';\n  return location.protocol + '//' + location.hostname + ':' + (location.port || (isHttps ? '443' : '80')) + (/^\\//.test(location.pathname) ? location.pathname : '/' + location.pathname);\n}\n\n/**\n * Parse query string variables\n * \n * @author Sahat Yalkabov <https://github.com/sahat>\n * @copyright Method taken from https://github.com/sahat/satellizer\n * \n * @param  {String} Query string\n * @return {String}\n */\nfunction parseQueryString(str) {\n  var obj = {};\n  var key;\n  var value;\n  (str || '').split('&').forEach(function (keyValue) {\n    if (keyValue) {\n      value = keyValue.split('=');\n      key = decodeURIComponent(value[0]);\n      obj[key] = !!value[1] ? decodeURIComponent(value[1]) : true;\n    }\n  });\n  return obj;\n}\n\n/**\n * Decode base64 string\n * @author Sahat Yalkabov <https://github.com/sahat>\n * @copyright Method taken from https://github.com/sahat/satellizer\n * \n * @param  {String} str base64 encoded string\n * @return {Object}\n */\n\nfunction parseCookies(str) {\n  if (str.length === 0) {\n    return {};\n  }\n  var parsed = {};\n  var pattern = new RegExp('\\\\s*;\\\\s*');\n  str.split(pattern).forEach(function (i) {\n    var ref = i.split('=');\n    var encodedKey = ref[0];\n    var encodedValue = ref[1];\n    var key = decodeURIComponent(encodedKey);\n    var value = decodeURIComponent(encodedValue);\n    parsed[key] = value;\n  });\n  return parsed;\n}\nfunction formatOptions(options) {\n  var path = options.path;\n  var domain = options.domain;\n  var expires = options.expires;\n  var secure = options.secure;\n  return [typeof path === 'undefined' || path === null ? '' : ';path=' + path, typeof domain === 'undefined' || domain === null ? '' : ';domain=' + domain, typeof expires === 'undefined' || expires === null ? '' : ';expires=' + expires.toUTCString(), typeof secure === 'undefined' || secure === null || secure === false ? '' : ';secure'].join('');\n}\nfunction formatCookie(key, value, options) {\n  return [encodeURIComponent(key), '=', encodeURIComponent(value), formatOptions(options)].join('');\n}\n\n// Store setTimeout reference so promise-polyfill will be unaffected by\n// other code modifying setTimeout (like sinon.useFakeTimers())\nvar setTimeoutFunc = setTimeout;\nfunction noop() {}\n\n// Polyfill for Function.prototype.bind\nfunction bind(fn, thisArg) {\n  return function () {\n    fn.apply(thisArg, arguments);\n  };\n}\nfunction Promise$1(fn) {\n  if (typeof this !== 'object') {\n    throw new TypeError('Promises must be constructed via new');\n  }\n  if (typeof fn !== 'function') {\n    throw new TypeError('not a function');\n  }\n  this._state = 0;\n  this._handled = false;\n  this._value = undefined;\n  this._deferreds = [];\n  doResolve(fn, this);\n}\nfunction handle(self, deferred) {\n  while (self._state === 3) {\n    self = self._value;\n  }\n  if (self._state === 0) {\n    self._deferreds.push(deferred);\n    return;\n  }\n  self._handled = true;\n  Promise$1._immediateFn(function () {\n    var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n      return;\n    }\n    var ret;\n    try {\n      ret = cb(self._value);\n    } catch (e) {\n      reject(deferred.promise, e);\n      return;\n    }\n    resolve(deferred.promise, ret);\n  });\n}\nfunction resolve(self, newValue) {\n  try {\n    // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n    if (newValue === self) {\n      throw new TypeError('A promise cannot be resolved with itself.');\n    }\n    if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n      var then = newValue.then;\n      if (newValue instanceof Promise$1) {\n        self._state = 3;\n        self._value = newValue;\n        finale(self);\n        return;\n      } else if (typeof then === 'function') {\n        doResolve(bind(then, newValue), self);\n        return;\n      }\n    }\n    self._state = 1;\n    self._value = newValue;\n    finale(self);\n  } catch (e) {\n    reject(self, e);\n  }\n}\nfunction reject(self, newValue) {\n  self._state = 2;\n  self._value = newValue;\n  finale(self);\n}\nfunction finale(self) {\n  if (self._state === 2 && self._deferreds.length === 0) {\n    Promise$1._immediateFn(function () {\n      if (!self._handled) {\n        Promise$1._unhandledRejectionFn(self._value);\n      }\n    });\n  }\n  for (var i = 0, len = self._deferreds.length; i < len; i++) {\n    handle(self, self._deferreds[i]);\n  }\n  self._deferreds = null;\n}\nfunction Handler(onFulfilled, onRejected, promise) {\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, self) {\n  var done = false;\n  try {\n    fn(function (value) {\n      if (done) {\n        return;\n      }\n      done = true;\n      resolve(self, value);\n    }, function (reason) {\n      if (done) {\n        return;\n      }\n      done = true;\n      reject(self, reason);\n    });\n  } catch (ex) {\n    if (done) {\n      return;\n    }\n    done = true;\n    reject(self, ex);\n  }\n}\nPromise$1.prototype['catch'] = function (onRejected) {\n  return this.then(null, onRejected);\n};\nPromise$1.prototype.then = function (onFulfilled, onRejected) {\n  var prom = new this.constructor(noop);\n  handle(this, new Handler(onFulfilled, onRejected, prom));\n  return prom;\n};\nPromise$1.all = function (arr) {\n  var args = Array.prototype.slice.call(arr);\n  return new Promise$1(function (resolve, reject) {\n    if (args.length === 0) {\n      return resolve([]);\n    }\n    var remaining = args.length;\n    function res(i, val) {\n      try {\n        if (val && (typeof val === 'object' || typeof val === 'function')) {\n          var then = val.then;\n          if (typeof then === 'function') {\n            then.call(val, function (val) {\n              res(i, val);\n            }, reject);\n            return;\n          }\n        }\n        args[i] = val;\n        if (--remaining === 0) {\n          resolve(args);\n        }\n      } catch (ex) {\n        reject(ex);\n      }\n    }\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\nPromise$1.resolve = function (value) {\n  if (value && typeof value === 'object' && value.constructor === Promise$1) {\n    return value;\n  }\n  return new Promise$1(function (resolve) {\n    resolve(value);\n  });\n};\nPromise$1.reject = function (value) {\n  return new Promise$1(function (resolve, reject) {\n    reject(value);\n  });\n};\nPromise$1.race = function (values) {\n  return new Promise$1(function (resolve, reject) {\n    for (var i = 0, len = values.length; i < len; i++) {\n      values[i].then(resolve, reject);\n    }\n  });\n};\n\n// Use polyfill for setImmediate for performance gains\nPromise$1._immediateFn = typeof setImmediate === 'function' && function (fn) {\n  setImmediate(fn);\n} || function (fn) {\n  setTimeoutFunc(fn, 0);\n};\nPromise$1._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n  if (typeof console !== 'undefined' && console) {\n    console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n  }\n};\n\n/**\n * Set the immediate function to execute callbacks\n * @param fn {function} Function to execute\n * @deprecated\n */\nPromise$1._setImmediateFn = function _setImmediateFn(fn) {\n  Promise$1._immediateFn = fn;\n};\n\n/**\n * Change the function to execute on unhandled rejection\n * @param {function} fn Function to execute on unhandled rejection\n * @deprecated\n */\nPromise$1._setUnhandledRejectionFn = function _setUnhandledRejectionFn(fn) {\n  Promise$1._unhandledRejectionFn = fn;\n};\n\n/**\n * Default configuration\n */\nvar defaultOptions = {\n  baseUrl: null,\n  tokenName: 'token',\n  tokenPrefix: 'vueauth',\n  tokenHeader: 'Authorization',\n  tokenType: 'Bearer',\n  loginUrl: '/auth/login',\n  registerUrl: '/auth/register',\n  logoutUrl: null,\n  storageType: 'localStorage',\n  storageNamespace: 'vue-social-auth',\n  cookieStorage: {\n    domain: window.location.hostname,\n    path: '/',\n    secure: false\n  },\n  requestDataKey: 'data',\n  responseDataKey: 'data',\n  /**\n   * Default request interceptor for Axios library\n   * @context {VueSocialauth}\n   */\n  bindRequestInterceptor: function ($auth) {\n    var tokenHeader = $auth.options.tokenHeader;\n    $auth.$http.interceptors.request.use(function (config) {\n      delete config.headers[tokenHeader];\n      return config;\n    });\n  },\n  /**\n   * Default response interceptor for Axios library\n   * @contect {VueSocialauth}\n   */\n  bindResponseInterceptor: function ($auth) {\n    $auth.$http.interceptors.response.use(function (response) {\n      return response;\n    });\n  },\n  providers: {\n    facebook: {\n      name: 'facebook',\n      url: '/auth/facebook',\n      authorizationEndpoint: 'https://www.facebook.com/v2.5/dialog/oauth',\n      redirectUri: window.location.origin + '/',\n      requiredUrlParams: ['display', 'scope'],\n      scope: ['email'],\n      scopeDelimiter: ',',\n      display: 'popup',\n      oauthType: '2.0',\n      popupOptions: {\n        width: 580,\n        height: 400\n      }\n    },\n    google: {\n      name: 'google',\n      url: '/auth/google',\n      authorizationEndpoint: 'https://accounts.google.com/o/oauth2/auth',\n      redirectUri: window.location.origin,\n      requiredUrlParams: ['scope'],\n      optionalUrlParams: ['display'],\n      scope: ['profile', 'email'],\n      scopePrefix: 'openid',\n      scopeDelimiter: ' ',\n      display: 'popup',\n      oauthType: '2.0',\n      popupOptions: {\n        width: 452,\n        height: 633\n      }\n    },\n    github: {\n      name: 'github',\n      url: '/auth/github',\n      authorizationEndpoint: 'https://github.com/login/oauth/authorize',\n      redirectUri: window.location.origin,\n      optionalUrlParams: ['scope'],\n      scope: ['user:email'],\n      scopeDelimiter: ' ',\n      oauthType: '2.0',\n      popupOptions: {\n        width: 1020,\n        height: 618\n      }\n    },\n    instagram: {\n      name: 'instagram',\n      url: '/auth/instagram',\n      authorizationEndpoint: 'https://api.instagram.com/oauth/authorize',\n      redirectUri: window.location.origin,\n      requiredUrlParams: ['scope'],\n      scope: ['basic'],\n      scopeDelimiter: '+',\n      oauthType: '2.0',\n      popupOptions: {\n        width: null,\n        height: null\n      }\n    },\n    twitter: {\n      name: 'twitter',\n      url: '/auth/twitter',\n      authorizationEndpoint: 'https://api.twitter.com/oauth/authenticate',\n      redirectUri: window.location.origin,\n      oauthType: '1.0',\n      popupOptions: {\n        width: 495,\n        height: 645\n      }\n    },\n    bitbucket: {\n      name: 'bitbucket',\n      url: '/auth/bitbucket',\n      authorizationEndpoint: 'https://bitbucket.org/site/oauth2/authorize',\n      redirectUri: window.location.origin + '/',\n      optionalUrlParams: ['scope'],\n      scope: ['email'],\n      scopeDelimiter: ' ',\n      oauthType: '2.0',\n      popupOptions: {\n        width: 1020,\n        height: 618\n      }\n    },\n    linkedin: {\n      name: 'linkedin',\n      url: '/auth/linkedin',\n      authorizationEndpoint: 'https://www.linkedin.com/oauth/v2/authorization',\n      redirectUri: window.location.origin,\n      requiredUrlParams: ['state'],\n      scope: ['r_emailaddress'],\n      scopeDelimiter: ' ',\n      state: 'STATE',\n      oauthType: '2.0',\n      popupOptions: {\n        width: 527,\n        height: 582\n      }\n    },\n    live: {\n      name: 'live',\n      url: '/auth/live',\n      authorizationEndpoint: 'https://login.live.com/oauth20_authorize.srf',\n      redirectUri: window.location.origin,\n      requiredUrlParams: ['display', 'scope'],\n      scope: ['wl.emails'],\n      scopeDelimiter: ' ',\n      display: 'popup',\n      oauthType: '2.0',\n      popupOptions: {\n        width: 500,\n        height: 560\n      }\n    },\n    oauth1: {\n      name: null,\n      url: '/auth/oauth1',\n      authorizationEndpoint: null,\n      redirectUri: window.location.origin,\n      oauthType: '1.0',\n      popupOptions: null\n    },\n    oauth2: {\n      name: null,\n      url: '/auth/oauth2',\n      clientId: null,\n      redirectUri: window.location.origin,\n      authorizationEndpoint: null,\n      defaultUrlParams: ['response_type', 'client_id', 'redirect_uri'],\n      requiredUrlParams: null,\n      optionalUrlParams: null,\n      scope: null,\n      scopePrefix: null,\n      scopeDelimiter: null,\n      state: null,\n      oauthType: '2.0',\n      popupOptions: null,\n      responseType: 'code',\n      responseParams: {\n        code: 'code',\n        clientId: 'clientId',\n        redirectUri: 'redirectUri'\n      }\n    }\n  }\n};\nvar CookieStorage = function CookieStorage(defaultOptions) {\n  this._defaultOptions = objectExtend({\n    domain: window.location.hostname,\n    expires: null,\n    path: '/',\n    secure: false\n  }, defaultOptions);\n};\nCookieStorage.prototype.setItem = function setItem(key, value) {\n  var options = objectExtend({}, this._defaultOptions);\n  var cookie = formatCookie(key, value, options);\n  this._setCookie(cookie);\n};\nCookieStorage.prototype.getItem = function getItem(key) {\n  var cookies = parseCookies(this._getCookie());\n  return cookies.hasOwnProperty(key) ? cookies[key] : null;\n};\nCookieStorage.prototype.removeItem = function removeItem(key) {\n  var value = '';\n  var defaultOptions = objectExtend({}, this._defaultOptions);\n  var options = objectExtend(defaultOptions, {\n    expires: new Date(0)\n  });\n  var cookie = formatCookie(key, value, options);\n  this._setCookie(cookie);\n};\nCookieStorage.prototype._getCookie = function _getCookie() {\n  return typeof document === 'undefined' ? '' : typeof document.cookie === 'undefined' ? '' : document.cookie;\n};\nCookieStorage.prototype._setCookie = function _setCookie(cookie) {\n  document.cookie = cookie;\n};\nvar LocalStorage = function LocalStorage(namespace) {\n  this.namespace = namespace || null;\n};\nLocalStorage.prototype.setItem = function setItem(key, value) {\n  window.localStorage.setItem(this._getStorageKey(key), value);\n};\nLocalStorage.prototype.getItem = function getItem(key) {\n  return window.localStorage.getItem(this._getStorageKey(key));\n};\nLocalStorage.prototype.removeItem = function removeItem(key) {\n  window.localStorage.removeItem(this._getStorageKey(key));\n};\nLocalStorage.prototype._getStorageKey = function _getStorageKey(key) {\n  if (this.namespace) {\n    return [this.namespace, key].join('.');\n  }\n  return key;\n};\nvar MemoryStorage = function MemoryStorage(namespace) {\n  this.namespace = namespace || null;\n  this._storage = {};\n};\nMemoryStorage.prototype.setItem = function setItem(key, value) {\n  this._storage[this._getStorageKey(key)] = value;\n};\nMemoryStorage.prototype.getItem = function getItem(key) {\n  return this._storage[this._getStorageKey(key)];\n};\nMemoryStorage.prototype.removeItem = function removeItem(key) {\n  delete this._storage[this._getStorageKey(key)];\n};\nMemoryStorage.prototype._getStorageKey = function _getStorageKey(key) {\n  if (this.namespace) {\n    return [this.namespace, key].join('.');\n  }\n  return key;\n};\nvar LocalStorage$2 = function LocalStorage(namespace) {\n  this.namespace = namespace || null;\n};\nLocalStorage$2.prototype.setItem = function setItem(key, value) {\n  window.sessionStorage.setItem(this._getStorageKey(key), value);\n};\nLocalStorage$2.prototype.getItem = function getItem(key) {\n  return window.sessionStorage.getItem(this._getStorageKey(key));\n};\nLocalStorage$2.prototype.removeItem = function removeItem(key) {\n  window.sessionStorage.removeItem(this._getStorageKey(key));\n};\nLocalStorage$2.prototype._getStorageKey = function _getStorageKey(key) {\n  if (this.namespace) {\n    return [this.namespace, key].join('.');\n  }\n  return key;\n};\nfunction StorageFactory(options) {\n  switch (options.storageType) {\n    case 'localStorage':\n      try {\n        window.localStorage.setItem('testKey', 'test');\n        window.localStorage.removeItem('testKey');\n        return new LocalStorage(options.storageNamespace);\n      } catch (e) {}\n    case 'sessionStorage':\n      try {\n        window.sessionStorage.setItem('testKey', 'test');\n        window.sessionStorage.removeItem('testKey');\n        return new LocalStorage$2(options.storageNamespace);\n      } catch (e) {}\n    case 'cookieStorage':\n      return new CookieStorage(options.cookieStorage);\n    case 'memoryStorage':\n    default:\n      return new MemoryStorage(options.storageNamespace);\n      break;\n  }\n}\n\n/**\n * OAuth2 popup management class\n * \n * @author Sahat Yalkabov <https://github.com/sahat>\n * @copyright Class mostly taken from https://github.com/sahat/satellizer \n * and adjusted to fit vue-social-auth library\n */\nvar OAuthPopup = function OAuthPopup(url, name, popupOptions) {\n  this.popup = null;\n  this.url = url;\n  this.name = name;\n  this.popupOptions = popupOptions;\n};\nOAuthPopup.prototype.open = function open(redirectUri, skipPooling) {\n  try {\n    this.popup = window.open(this.url, this.name, this._stringifyOptions());\n    if (this.popup && this.popup.focus) {\n      this.popup.focus();\n    }\n    if (skipPooling) {\n      return Promise$1.resolve();\n    } else {\n      return this.pooling(redirectUri);\n    }\n  } catch (e) {\n    return Promise$1.reject(new Error('OAuth popup error occurred'));\n  }\n};\nOAuthPopup.prototype.pooling = function pooling(redirectUri) {\n  var this$1 = this;\n  return new Promise$1(function (resolve, reject) {\n    var redirectUriParser = document.createElement('a');\n    redirectUriParser.href = redirectUri;\n    var redirectUriPath = getFullUrlPath(redirectUriParser);\n    var poolingInterval = setInterval(function () {\n      if (!this$1.popup || this$1.popup.closed || this$1.popup.closed === undefined) {\n        clearInterval(poolingInterval);\n        poolingInterval = null;\n        reject(new Error('Auth popup window closed'));\n      }\n      try {\n        var popupWindowPath = getFullUrlPath(this$1.popup.location);\n        if (popupWindowPath === redirectUriPath) {\n          if (this$1.popup.location.search || this$1.popup.location.hash) {\n            var query = parseQueryString(this$1.popup.location.search.substring(1).replace(/\\/$/, ''));\n            var hash = parseQueryString(this$1.popup.location.hash.substring(1).replace(/[\\/$]/, ''));\n            var params = objectExtend({}, query);\n            params = objectExtend(params, hash);\n            if (params.error) {\n              reject(new Error(params.error));\n            } else {\n              resolve(params);\n            }\n          } else {\n            reject(new Error('OAuth redirect has occurred but no query or hash parameters were found.'));\n          }\n          clearInterval(poolingInterval);\n          poolingInterval = null;\n          this$1.popup.close();\n        }\n      } catch (e) {\n        // Ignore DOMException: Blocked a frame with origin from accessing a cross-origin frame.\n      }\n    }, 250);\n  });\n};\nOAuthPopup.prototype._stringifyOptions = function _stringifyOptions() {\n  var this$1 = this;\n  var options = [];\n  for (var optionKey in this$1.popupOptions) {\n    if (!isUndefined(this$1.popupOptions[optionKey])) {\n      options.push(optionKey + \"=\" + this$1.popupOptions[optionKey]);\n    }\n  }\n  return options.join(',');\n};\nvar defaultProviderConfig = {\n  name: null,\n  url: null,\n  authorizationEndpoint: null,\n  scope: null,\n  scopePrefix: null,\n  scopeDelimiter: null,\n  redirectUri: null,\n  requiredUrlParams: null,\n  defaultUrlParams: null,\n  oauthType: '1.0',\n  popupOptions: {}\n};\nvar OAuth = function OAuth($http, storage, providerConfig, options) {\n  this.$http = $http;\n  this.storage = storage;\n  this.providerConfig = objectExtend({}, defaultProviderConfig);\n  this.providerConfig = objectExtend(this.providerConfig, providerConfig);\n  this.options = options;\n};\n\n/**\n * Initialize OAuth1 process \n * @param{Object} userData User data\n * @return {Promise}\n */\nOAuth.prototype.init = function init(userData) {\n  var this$1 = this;\n  this.oauthPopup = new OAuthPopup('about:blank', this.providerConfig.name, this.providerConfig.popupOptions);\n  if (window && !window['cordova']) {\n    this.oauthPopup.open(this.providerConfig.redirectUri, true);\n  }\n  return this.getRequestToken().then(function (response) {\n    return this$1.openPopup(response).then(function (popupResponse) {\n      return this$1.exchangeForToken(popupResponse, userData);\n    });\n  });\n};\n\n/**\n * Get OAuth1 request token\n * @return {Promise}\n */\nOAuth.prototype.getRequestToken = function getRequestToken() {\n  var requestOptions = {};\n  requestOptions.method = 'POST';\n  requestOptions[this.options.requestDataKey] = objectExtend({}, this.providerConfig);\n  requestOptions.withCredentials = this.options.withCredentials;\n  if (this.options.baseUrl) {\n    requestOptions.url = joinUrl(this.options.baseUrl, this.providerConfig.url);\n  } else {\n    requestOptions.url = this.providerConfig.url;\n  }\n  return this.$http(requestOptions);\n};\n\n/**\n * Open OAuth1 popup\n * @param{Object} response Response object containing request token\n * @return {Promise}\n */\nOAuth.prototype.openPopup = function openPopup(response) {\n  var url = [this.providerConfig.authorizationEndpoint, this.buildQueryString(response[this.options.responseDataKey])].join('?');\n  this.oauthPopup.popup.location = url;\n  if (window && window['cordova']) {\n    return this.oauthPopup.open(this.providerConfig.redirectUri);\n  } else {\n    return this.oauthPopup.pooling(this.providerConfig.redirectUri);\n  }\n};\n\n/**\n * Exchange token and token verifier for access token\n * @param{Object} oauth  OAuth data containing token and token verifier\n * @param{Object} userData User data\n * @return {Promise}\n */\nOAuth.prototype.exchangeForToken = function exchangeForToken(oauth, userData) {\n  var payload = objectExtend({}, userData);\n  payload = objectExtend(payload, oauth);\n  var requestOptions = {};\n  requestOptions.method = 'POST';\n  requestOptions[this.options.requestDataKey] = payload;\n  requestOptions.withCredentials = this.options.withCredentials;\n  if (this.options.baseUrl) {\n    requestOptions.url = joinUrl(this.options.baseUrl, this.providerConfig.url);\n  } else {\n    requestOptions.url = this.providerConfig.url;\n  }\n  return this.$http(requestOptions);\n};\nOAuth.prototype.buildQueryString = function buildQueryString(params) {\n  var parsedParams = [];\n  for (var key in params) {\n    var value = params[key];\n    parsedParams.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));\n  }\n  return parsedParams.join('&');\n};\n\n/**\n * Default provider configuration\n * @type {Object}\n */\nvar defaultProviderConfig$1 = {\n  name: null,\n  url: null,\n  clientId: null,\n  authorizationEndpoint: null,\n  redirectUri: null,\n  scope: null,\n  scopePrefix: null,\n  scopeDelimiter: null,\n  state: null,\n  requiredUrlParams: null,\n  defaultUrlParams: ['response_type', 'client_id', 'redirect_uri'],\n  responseType: 'code',\n  responseParams: {\n    code: 'code',\n    clientId: 'clientId',\n    redirectUri: 'redirectUri'\n  },\n  oauthType: '2.0',\n  popupOptions: {}\n};\nvar OAuth2 = function OAuth2($http, storage, providerConfig, options) {\n  this.$http = $http;\n  this.storage = storage;\n  this.providerConfig = objectExtend({}, defaultProviderConfig$1);\n  this.providerConfig = objectExtend(this.providerConfig, providerConfig);\n  this.options = options;\n};\nOAuth2.prototype.init = function init(userData) {\n  var this$1 = this;\n  var stateName = this.providerConfig.name + '_state';\n  if (isFunction(this.providerConfig.state)) {\n    this.storage.setItem(stateName, this.providerConfig.state());\n  } else if (isString(this.providerConfig.state)) {\n    this.storage.setItem(stateName, this.providerConfig.state);\n  }\n  var url = [this.providerConfig.authorizationEndpoint, this._stringifyRequestParams()].join('?');\n  this.oauthPopup = new OAuthPopup(url, this.providerConfig.name, this.providerConfig.popupOptions);\n  return new Promise(function (resolve, reject) {\n    this$1.oauthPopup.open(this$1.providerConfig.redirectUri).then(function (response) {\n      if (this$1.providerConfig.responseType === 'code' || !this$1.providerConfig.url) {\n        return resolve(response);\n      }\n      if (response.state && response.state !== this$1.storage.getItem(stateName)) {\n        return reject(new Error('State parameter value does not match original OAuth request state value'));\n      }\n      resolve(this$1.exchangeForToken(response, userData));\n    }).catch(function (err) {\n      reject(err);\n    });\n  });\n};\n\n/**\n * Exchange temporary oauth data for access token\n * @author Sahat Yalkabov <https://github.com/sahat>\n * @copyright Method taken from https://github.com/sahat/satellizer\n * \n * @param{[type]} oauth  [description]\n * @param{[type]} userData [description]\n * @return {[type]}        [description]\n */\nOAuth2.prototype.exchangeForToken = function exchangeForToken(oauth, userData) {\n  var this$1 = this;\n  var payload = objectExtend({}, userData);\n  for (var key in defaultProviderConfig$1.responseParams) {\n    var value = defaultProviderConfig$1[key];\n    switch (key) {\n      case 'code':\n        payload[key] = oauth.code;\n        break;\n      case 'clientId':\n        payload[key] = this$1.providerConfig.clientId;\n        break;\n      case 'redirectUri':\n        payload[key] = this$1.providerConfig.redirectUri;\n        break;\n      default:\n        payload[key] = oauth[key];\n    }\n  }\n  if (oauth.state) {\n    payload.state = oauth.state;\n  }\n  var exchangeTokenUrl;\n  if (this.options.baseUrl) {\n    exchangeTokenUrl = joinUrl(this.options.baseUrl, this.providerConfig.url);\n  } else {\n    exchangeTokenUrl = this.providerConfig.url;\n  }\n  return this.$http.post(exchangeTokenUrl, payload, {\n    withCredentials: this.options.withCredentials\n  });\n};\n\n/**\n * Stringify oauth params\n * @author Sahat Yalkabov <https://github.com/sahat>\n * @copyright Method taken from https://github.com/sahat/satellizer\n * \n * @return {String}\n */\nOAuth2.prototype._stringifyRequestParams = function _stringifyRequestParams() {\n  var this$1 = this;\n  var keyValuePairs = [];\n  var paramCategories = ['defaultUrlParams', 'requiredUrlParams', 'optionalUrlParams'];\n  paramCategories.forEach(function (categoryName) {\n    if (!this$1.providerConfig[categoryName]) {\n      return;\n    }\n    if (!Array.isArray(this$1.providerConfig[categoryName])) {\n      return;\n    }\n    this$1.providerConfig[categoryName].forEach(function (paramName) {\n      var camelCaseParamName = camelCase(paramName);\n      var paramValue = isFunction(this$1.providerConfig[paramName]) ? this$1.providerConfig[paramName]() : this$1.providerConfig[camelCaseParamName];\n      if (paramName === 'redirect_uri' && !paramValue) {\n        return;\n      }\n      if (paramName === 'state') {\n        var stateName = this$1.providerConfig.name + '_state';\n        paramValue = encodeURIComponent(this$1.storage.getItem(stateName));\n      }\n      if (paramName === 'scope' && Array.isArray(paramValue)) {\n        paramValue = paramValue.join(this$1.providerConfig.scopeDelimiter);\n        if (this$1.providerConfig.scopePrefix) {\n          paramValue = [this$1.providerConfig.scopePrefix, paramValue].join(this$1.providerConfig.scopeDelimiter);\n        }\n      }\n      keyValuePairs.push([paramName, paramValue]);\n    });\n  });\n  return keyValuePairs.map(function (param) {\n    return param.join('=');\n  }).join('&');\n};\nvar VueSocialauth = function VueSocialauth($http, overrideOptions) {\n  var options = objectExtend({}, defaultOptions);\n  options = objectExtend(options, overrideOptions);\n  var storage = StorageFactory(options);\n  Object.defineProperties(this, {\n    $http: {\n      get: function get() {\n        return $http;\n      }\n    },\n    options: {\n      get: function get() {\n        return options;\n      }\n    },\n    storage: {\n      get: function get() {\n        return storage;\n      }\n    },\n    tokenName: {\n      get: function get() {\n        if (this.options.tokenPrefix) {\n          return [this.options.tokenPrefix, this.options.tokenName].join('_');\n        } else {\n          return this.options.tokenName;\n        }\n      }\n    }\n  });\n\n  // Setup request interceptors\n  if (this.options.bindRequestInterceptor && isFunction(this.options.bindRequestInterceptor) && this.options.bindResponseInterceptor && isFunction(this.options.bindResponseInterceptor)) {\n    this.options.bindRequestInterceptor.call(this, this);\n    this.options.bindResponseInterceptor.call(this, this);\n  } else {\n    throw new Error('Both request and response interceptors must be functions');\n  }\n};\n\n/**\n * Check if user is authenticated\n * @author Sahat Yalkabov <https://github.com/sahat>\n * @copyright Method taken from https://github.com/sahat/satellizer\n * @return {Boolean}\n */\n// isAuthenticated() {\n// let token = this.storage.getItem(this.tokenName)\n\n// if (token) {// Token is present\n//   if (token.split('.').length === 3) {// Token with a valid JWT format XXX.YYY.ZZZ\n//     try { // Could be a valid JWT or an access token with the same format\n//       const base64Url = token.split('.')[1];\n//       const base64 = base64Url.replace('-', '+').replace('_', '/');\n//       const exp = JSON.parse(window.atob(base64)).exp;\n//       if (typeof exp === 'number') {// JWT with an optonal expiration claims\n//         return Math.round(new Date().getTime() / 1000) < exp;\n//       }\n//     } catch (e) {\n//       return true;// Pass: Non-JWT token that looks like JWT\n//     }\n//   }\n//   return true;// Pass: All other tokens\n// }\n// return false\n// }\n\n/**\n * Get token if user is authenticated\n * @return {String} Authentication token\n */\nVueSocialauth.prototype.getToken = function getToken() {\n  return this.storage.getItem(this.tokenName);\n};\n\n/**\n * Set new authentication token\n * @param {String|Object} token\n */\n// setToken(response) {\n// if (response[this.options.responseDataKey]) {\n//   response = response[this.options.responseDataKey];\n// }\n\n// let token;\n// if (response.access_token) {\n//   if (isObject(response.access_token) && isObject(response.access_token[this.options.responseDataKey])) {\n//     response = response.access_token\n//   } else if (isString(response.access_token)) {\n//     token = response.access_token\n//   }\n// }\n\n// if (!token && response) {\n//   token = response[this.options.tokenName]\n// }\n\n// if (token) {\n//   this.storage.setItem(this.tokenName, token)\n// }\n// }\n\n// getPayload() {\n// const token = this.storage.getItem(this.tokenName);\n\n// if (token && token.split('.').length === 3) {\n//   try {\n//     const base64Url = token.split('.')[1];\n//     const base64 = base64Url.replace('-', '+').replace('_', '/');\n//     return JSON.parse(decodeBase64(base64));\n//   } catch (e) {}\n// }\n// }\n\n/**\n * Login user using email and password\n * @param{Object} user         User data\n * @param{Object} requestOptions Request options\n * @return {Promise}             Request promise\n */\n// login(user, requestOptions) {\n// requestOptions = requestOptions || {}\n// requestOptions.url = requestOptions.url ? requestOptions.url : joinUrl(this.options.baseUrl, this.options.loginUrl)\n// requestOptions[this.options.requestDataKey] = user || requestOptions[this.options.requestDataKey]\n// requestOptions.method = requestOptions.method || 'POST'\n// requestOptions.withCredentials = requestOptions.withCredentials || this.options.withCredentials\n\n// return this.$http(requestOptions).then((response) => {\n//   this.setToken(response)\n//   return response\n// })\n// }\n\n/**\n * Register new user\n * @param{Object} user         User data\n * @param{Object} requestOptions Request options\n * @return {Promise}             Request promise\n */\n// register(user, requestOptions) {\n// requestOptions = requestOptions || {}\n// requestOptions.url = requestOptions.url ? requestOptions.url : joinUrl(this.options.baseUrl, this.options.registerUrl)\n// requestOptions[this.options.requestDataKey] = user || requestOptions[this.options.requestDataKey]\n// requestOptions.method = requestOptions.method || 'POST'\n// requestOptions.withCredentials = requestOptions.withCredentials || this.options.withCredentials\n\n// return this.$http(requestOptions).then((response) => {\n//   this.setToken(response)\n//   return response\n// })\n// }\n\n/**\n * Logout current user\n * @param{Object} requestOptionsLogout request options object\n * @return {Promise}              Request promise\n */\n// logout(requestOptions) {\n// if (!this.isAuthenticated()) {\n//   return Promise.reject(new Error('There is no currently authenticated user'))\n// }\n\n// requestOptions = requestOptions || {}\n// requestOptions.url = requestOptions.logoutUrl || this.options.logoutUrl\n\n// if (requestOptions.url) {\n//   requestOptions.method = requestOptions.method || 'POST'\n//   requestOptions.withCredentials = requestOptions.withCredentials || this.options.withCredentials\n\n//   return this.$http(requestOptions).then((response) => {\n//     this.storage.removeItem(this.tokenName)\n//   })\n// } else {\n//   this.storage.removeItem(this.tokenName)\n//   return Promise.resolve();\n// }\n// }\n\n/**\n * Authenticate user using authentication provider\n * \n * @param{String} provider     Provider name\n * @param{Object} userData     User data\n * @param{Object} requestOptions Request options\n * @return {Promise}             Request promise\n */\nVueSocialauth.prototype.authenticate = function authenticate(provider, userData, requestOptions) {\n  var this$1 = this;\n  return new Promise$1(function (resolve, reject) {\n    var providerConfig = this$1.options.providers[provider];\n    if (!providerConfig) {\n      return reject(new Error('Unknown provider'));\n    }\n    var providerInstance;\n    switch (providerConfig.oauthType) {\n      case '1.0':\n        providerInstance = new OAuth(this$1.$http, this$1.storage, providerConfig, this$1.options);\n        break;\n      case '2.0':\n        providerInstance = new OAuth2(this$1.$http, this$1.storage, providerConfig, this$1.options);\n        break;\n      default:\n        return reject(new Error('Invalid OAuth type'));\n        break;\n    }\n    return providerInstance.init(userData).then(function (response) {\n      return resolve(response);\n    }).catch(function (err) {\n      return reject(err);\n    });\n  });\n};\n\n/**\n * VueSocialauth plugin\n * @param {Object} Vue\n * @param {Object} options\n */\nfunction plugin(Vue, options) {\n  if (plugin.installed) {\n    return;\n  }\n  plugin.installed = true;\n  var vueAuthInstance = null;\n  Object.defineProperties(Vue.prototype, {\n    $auth: {\n      get: function get() {\n        if (!vueAuthInstance) {\n          // Request handler library not found, throw error\n          if (!this.$http) {\n            throw new Error('Request handler instance not found');\n          }\n          vueAuthInstance = new VueSocialauth(this.$http, options);\n        }\n        return vueAuthInstance;\n      }\n    }\n  });\n}\n\n/**\n * External factory helper for ES5 and CommonJS\n * @param  {Object} $http     Instance of request handling library\n * @param  {Object} options   Configuration object\n * @return {VueSocialauth}  VueSocialauth instance\n */\nplugin.factory = function ($http, options) {\n  return new VueSocialauth($http, options);\n};\nexport default plugin;\nexport { VueSocialauth };","map":{"version":3,"names":["Object","assign","target","varArgs","arguments$1","arguments","TypeError","to","index","length","nextSource","nextKey","prototype","hasOwnProperty","call","camelCase","name","replace","_","separator","letter","offset","toUpperCase","isUndefined","value","isString","isFunction","objectExtend","a","b","keys","forEach","key","toString","joinUrl","baseUrl","url","test","joined","join","normalize","str","getFullUrlPath","location","isHttps","protocol","hostname","port","pathname","parseQueryString","obj","split","keyValue","decodeURIComponent","parseCookies","parsed","pattern","RegExp","i","ref","encodedKey","encodedValue","formatOptions","options","path","domain","expires","secure","toUTCString","formatCookie","encodeURIComponent","setTimeoutFunc","setTimeout","noop","bind","fn","thisArg","apply","Promise$1","_state","_handled","_value","undefined","_deferreds","doResolve","handle","self","deferred","push","_immediateFn","cb","onFulfilled","onRejected","resolve","reject","promise","ret","e","newValue","then","finale","_unhandledRejectionFn","len","Handler","done","reason","ex","prom","constructor","all","arr","args","Array","slice","remaining","res","val","race","values","setImmediate","err","console","warn","_setImmediateFn","_setUnhandledRejectionFn","defaultOptions","tokenName","tokenPrefix","tokenHeader","tokenType","loginUrl","registerUrl","logoutUrl","storageType","storageNamespace","cookieStorage","window","requestDataKey","responseDataKey","bindRequestInterceptor","$auth","$http","interceptors","request","use","config","headers","bindResponseInterceptor","response","providers","facebook","authorizationEndpoint","redirectUri","origin","requiredUrlParams","scope","scopeDelimiter","display","oauthType","popupOptions","width","height","google","optionalUrlParams","scopePrefix","github","instagram","twitter","bitbucket","linkedin","state","live","oauth1","oauth2","clientId","defaultUrlParams","responseType","responseParams","code","CookieStorage","_defaultOptions","setItem","cookie","_setCookie","getItem","cookies","_getCookie","removeItem","Date","document","LocalStorage","namespace","localStorage","_getStorageKey","MemoryStorage","_storage","LocalStorage$2","sessionStorage","StorageFactory","OAuthPopup","popup","open","skipPooling","_stringifyOptions","focus","pooling","Error","this$1","redirectUriParser","createElement","href","redirectUriPath","poolingInterval","setInterval","closed","clearInterval","popupWindowPath","search","hash","query","substring","params","error","close","optionKey","defaultProviderConfig","OAuth","storage","providerConfig","init","userData","oauthPopup","getRequestToken","openPopup","popupResponse","exchangeForToken","requestOptions","method","withCredentials","buildQueryString","oauth","payload","parsedParams","defaultProviderConfig$1","OAuth2","stateName","_stringifyRequestParams","Promise","catch","exchangeTokenUrl","post","keyValuePairs","paramCategories","categoryName","isArray","paramName","camelCaseParamName","paramValue","map","param","VueSocialauth","overrideOptions","defineProperties","get","getToken","authenticate","provider","providerInstance","plugin","Vue","installed","vueAuthInstance","factory"],"sources":["/home/ashutosh/work/kbc/node_modules/vue-social-auth/dist/vue-social-auth.es2017.js"],"sourcesContent":["/*!\n * vue-social-auth v1.4.0\n * https://github.com/diadal/vue-social-auth\n * Released under the MIT License.\n */\n\nif (typeof Object.assign != 'function') {\n  Object.assign = function(target, varArgs) {\n    'use strict';\n    var arguments$1 = arguments;\n\n    if (target == null) {\n      throw new TypeError('Cannot convert undefined or null to object');\n    }\n\n    var to = Object(target);\n\n    for (var index = 1; index < arguments.length; index++) {\n      var nextSource = arguments$1[index];\n\n      if (nextSource != null) { // Skip over if undefined or null\n        for (var nextKey in nextSource) {\n          // Avoid bugs when hasOwnProperty is shadowed\n          if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n    }\n    return to;\n  };\n}\n\nfunction camelCase(name) {\n  return name.replace(/([\\:\\-\\_]+(.))/g, function (_, separator, letter, offset) {\n    return offset ? letter.toUpperCase() : letter;\n  });\n}\n\nfunction isUndefined(value) {\n  return typeof value === 'undefined'\n}\n\n\n\n\n\nfunction isString(value) {\n  return typeof value === 'string'\n}\n\n\n\nfunction isFunction(value) {\n  return typeof value === 'function'\n}\n\nfunction objectExtend(a, b) {\n\n  // Don't touch 'null' or 'undefined' objects.\n  if (a == null || b == null) {\n    return a;\n  }\n\n  Object.keys(b).forEach(function (key) {\n    if (Object.prototype.toString.call(b[key]) == '[object Object]') {\n      if (Object.prototype.toString.call(a[key]) != '[object Object]') {\n        a[key] = b[key];\n      } else {\n        a[key] = objectExtend(a[key], b[key]);\n      }\n    } else {\n      a[key] = b[key];\n    }\n  });\n\n  return a;\n}\n\n/**\n * Assemble url from two segments\n * \n * @author Sahat Yalkabov <https://github.com/sahat>\n * @copyright Method taken from https://github.com/sahat/satellizer\n * \n * @param  {String} baseUrl Base url\n * @param  {String} url     URI\n * @return {String}\n */\nfunction joinUrl(baseUrl, url) {\n  if (/^(?:[a-z]+:)?\\/\\//i.test(url)) {\n    return url;\n  }\n  var joined = [baseUrl, url].join('/');\n  var normalize = function (str) {\n    return str\n      .replace(/[\\/]+/g, '/')\n      .replace(/\\/\\?/g, '?')\n      .replace(/\\/\\#/g, '#')\n      .replace(/\\:\\//g, '://');\n  };\n  return normalize(joined);\n}\n\n/**\n * Get full path based on current location\n * \n * @author Sahat Yalkabov <https://github.com/sahat>\n * @copyright Method taken from https://github.com/sahat/satellizer\n * \n * @param  {Location} location\n * @return {String}\n */\nfunction getFullUrlPath(location) {\n  var isHttps = location.protocol === 'https:';\n  return location.protocol + '//' + location.hostname +\n    ':' + (location.port || (isHttps ? '443' : '80')) +\n    (/^\\//.test(location.pathname) ? location.pathname : '/' + location.pathname);\n}\n\n/**\n * Parse query string variables\n * \n * @author Sahat Yalkabov <https://github.com/sahat>\n * @copyright Method taken from https://github.com/sahat/satellizer\n * \n * @param  {String} Query string\n * @return {String}\n */\nfunction parseQueryString(str) {\n  var obj = {};\n  var key;\n  var value;\n  (str || '').split('&').forEach(function (keyValue) {\n    if (keyValue) {\n      value = keyValue.split('=');\n      key = decodeURIComponent(value[0]);\n      obj[key] = (!!value[1]) ? decodeURIComponent(value[1]) : true;\n    }\n  });\n  return obj;\n}\n\n/**\n * Decode base64 string\n * @author Sahat Yalkabov <https://github.com/sahat>\n * @copyright Method taken from https://github.com/sahat/satellizer\n * \n * @param  {String} str base64 encoded string\n * @return {Object}\n */\n\n\nfunction parseCookies(str) {\n  if (str.length === 0) { return {}; }\n  var parsed = {};\n  var pattern = new RegExp('\\\\s*;\\\\s*');\n  str.split(pattern).forEach(function (i) {\n    var ref = i.split('=');\n    var encodedKey = ref[0];\n    var encodedValue = ref[1];\n    var key = decodeURIComponent(encodedKey);\n    var value = decodeURIComponent(encodedValue);\n    parsed[key] = value;\n  });\n  return parsed;\n}\n\nfunction formatOptions(options) {\n  var path = options.path;\n  var domain = options.domain;\n  var expires = options.expires;\n  var secure = options.secure;\n  return [\n    typeof path === 'undefined' || path === null\n      ? '' : ';path=' + path,\n    typeof domain === 'undefined' || domain === null\n      ? '' : ';domain=' + domain,\n    typeof expires === 'undefined' || expires === null\n      ? '' : ';expires=' + expires.toUTCString(),\n    typeof secure === 'undefined' || secure === null || secure === false\n      ? '' : ';secure'\n  ].join('');\n}\n\nfunction formatCookie(key, value, options) {\n  return [\n    encodeURIComponent(key),\n    '=',\n    encodeURIComponent(value),\n    formatOptions(options)\n  ].join('');\n}\n\n// Store setTimeout reference so promise-polyfill will be unaffected by\n// other code modifying setTimeout (like sinon.useFakeTimers())\nvar setTimeoutFunc = setTimeout;\n\nfunction noop() {}\n\n// Polyfill for Function.prototype.bind\nfunction bind(fn, thisArg) {\n  return function () {\n    fn.apply(thisArg, arguments);\n  };\n}\n\nfunction Promise$1(fn) {\n  if (typeof this !== 'object') { throw new TypeError('Promises must be constructed via new'); }\n  if (typeof fn !== 'function') { throw new TypeError('not a function'); }\n  this._state = 0;\n  this._handled = false;\n  this._value = undefined;\n  this._deferreds = [];\n\n  doResolve(fn, this);\n}\n\nfunction handle(self, deferred) {\n  while (self._state === 3) {\n    self = self._value;\n  }\n  if (self._state === 0) {\n    self._deferreds.push(deferred);\n    return;\n  }\n  self._handled = true;\n  Promise$1._immediateFn(function () {\n    var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n      return;\n    }\n    var ret;\n    try {\n      ret = cb(self._value);\n    } catch (e) {\n      reject(deferred.promise, e);\n      return;\n    }\n    resolve(deferred.promise, ret);\n  });\n}\n\nfunction resolve(self, newValue) {\n  try {\n    // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n    if (newValue === self) { throw new TypeError('A promise cannot be resolved with itself.'); }\n    if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n      var then = newValue.then;\n      if (newValue instanceof Promise$1) {\n        self._state = 3;\n        self._value = newValue;\n        finale(self);\n        return;\n      } else if (typeof then === 'function') {\n        doResolve(bind(then, newValue), self);\n        return;\n      }\n    }\n    self._state = 1;\n    self._value = newValue;\n    finale(self);\n  } catch (e) {\n    reject(self, e);\n  }\n}\n\nfunction reject(self, newValue) {\n  self._state = 2;\n  self._value = newValue;\n  finale(self);\n}\n\nfunction finale(self) {\n  if (self._state === 2 && self._deferreds.length === 0) {\n    Promise$1._immediateFn(function() {\n      if (!self._handled) {\n        Promise$1._unhandledRejectionFn(self._value);\n      }\n    });\n  }\n\n  for (var i = 0, len = self._deferreds.length; i < len; i++) {\n    handle(self, self._deferreds[i]);\n  }\n  self._deferreds = null;\n}\n\nfunction Handler(onFulfilled, onRejected, promise) {\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, self) {\n  var done = false;\n  try {\n    fn(function (value) {\n      if (done) { return; }\n      done = true;\n      resolve(self, value);\n    }, function (reason) {\n      if (done) { return; }\n      done = true;\n      reject(self, reason);\n    });\n  } catch (ex) {\n    if (done) { return; }\n    done = true;\n    reject(self, ex);\n  }\n}\n\nPromise$1.prototype['catch'] = function (onRejected) {\n  return this.then(null, onRejected);\n};\n\nPromise$1.prototype.then = function (onFulfilled, onRejected) {\n  var prom = new (this.constructor)(noop);\n\n  handle(this, new Handler(onFulfilled, onRejected, prom));\n  return prom;\n};\n\nPromise$1.all = function (arr) {\n  var args = Array.prototype.slice.call(arr);\n\n  return new Promise$1(function (resolve, reject) {\n    if (args.length === 0) { return resolve([]); }\n    var remaining = args.length;\n\n    function res(i, val) {\n      try {\n        if (val && (typeof val === 'object' || typeof val === 'function')) {\n          var then = val.then;\n          if (typeof then === 'function') {\n            then.call(val, function (val) {\n              res(i, val);\n            }, reject);\n            return;\n          }\n        }\n        args[i] = val;\n        if (--remaining === 0) {\n          resolve(args);\n        }\n      } catch (ex) {\n        reject(ex);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise$1.resolve = function (value) {\n  if (value && typeof value === 'object' && value.constructor === Promise$1) {\n    return value;\n  }\n\n  return new Promise$1(function (resolve) {\n    resolve(value);\n  });\n};\n\nPromise$1.reject = function (value) {\n  return new Promise$1(function (resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise$1.race = function (values) {\n  return new Promise$1(function (resolve, reject) {\n    for (var i = 0, len = values.length; i < len; i++) {\n      values[i].then(resolve, reject);\n    }\n  });\n};\n\n// Use polyfill for setImmediate for performance gains\nPromise$1._immediateFn = (typeof setImmediate === 'function' && function (fn) { setImmediate(fn); }) ||\n  function (fn) {\n    setTimeoutFunc(fn, 0);\n  };\n\nPromise$1._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n  if (typeof console !== 'undefined' && console) {\n    console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n  }\n};\n\n/**\n * Set the immediate function to execute callbacks\n * @param fn {function} Function to execute\n * @deprecated\n */\nPromise$1._setImmediateFn = function _setImmediateFn(fn) {\n  Promise$1._immediateFn = fn;\n};\n\n/**\n * Change the function to execute on unhandled rejection\n * @param {function} fn Function to execute on unhandled rejection\n * @deprecated\n */\nPromise$1._setUnhandledRejectionFn = function _setUnhandledRejectionFn(fn) {\n  Promise$1._unhandledRejectionFn = fn;\n};\n\n/**\n * Default configuration\n */\nvar defaultOptions = {\n  baseUrl: null,\n  tokenName: 'token',\n  tokenPrefix: 'vueauth',\n  tokenHeader: 'Authorization',\n  tokenType: 'Bearer',\n  loginUrl: '/auth/login',\n  registerUrl: '/auth/register',\n  logoutUrl: null,\n  storageType: 'localStorage',\n  storageNamespace: 'vue-social-auth',\n  cookieStorage: {\n    domain: window.location.hostname,\n    path: '/',\n    secure: false\n  },\n  requestDataKey: 'data',\n  responseDataKey: 'data',\n\n  /**\n   * Default request interceptor for Axios library\n   * @context {VueSocialauth}\n   */\n  bindRequestInterceptor: function ($auth) {\n\n    var tokenHeader = $auth.options.tokenHeader;\n\n    $auth.$http.interceptors.request.use(function (config) {\n      delete config.headers[tokenHeader];\n      return config\n    });\n    \n    \n  },\n\n  /**\n   * Default response interceptor for Axios library\n   * @contect {VueSocialauth}\n   */\n  bindResponseInterceptor: function ($auth) {\n    $auth.$http.interceptors.response.use(function (response) {\n      return response\n    });\n  },\n\n  providers: {\n    facebook: {\n      name: 'facebook',\n      url: '/auth/facebook',\n      authorizationEndpoint: 'https://www.facebook.com/v2.5/dialog/oauth',\n      redirectUri: window.location.origin + '/',\n      requiredUrlParams: ['display', 'scope'],\n      scope: ['email'],\n      scopeDelimiter: ',',\n      display: 'popup',\n      oauthType: '2.0',\n      popupOptions: { width: 580, height: 400 }\n    },\n\n    google: {\n      name: 'google',\n      url: '/auth/google',\n      authorizationEndpoint: 'https://accounts.google.com/o/oauth2/auth',\n      redirectUri: window.location.origin,\n      requiredUrlParams: ['scope'],\n      optionalUrlParams: ['display'],\n      scope: ['profile', 'email'],\n      scopePrefix: 'openid',\n      scopeDelimiter: ' ',\n      display: 'popup',\n      oauthType: '2.0',\n      popupOptions: { width: 452, height: 633 }\n    },\n\n    github: {\n      name: 'github',\n      url: '/auth/github',\n      authorizationEndpoint: 'https://github.com/login/oauth/authorize',\n      redirectUri: window.location.origin,\n      optionalUrlParams: ['scope'],\n      scope: ['user:email'],\n      scopeDelimiter: ' ',\n      oauthType: '2.0',\n      popupOptions: { width: 1020, height: 618 }\n    },\n\n    instagram: {\n      name: 'instagram',\n      url: '/auth/instagram',\n      authorizationEndpoint: 'https://api.instagram.com/oauth/authorize',\n      redirectUri: window.location.origin,\n      requiredUrlParams: ['scope'],\n      scope: ['basic'],\n      scopeDelimiter: '+',\n      oauthType: '2.0',\n      popupOptions: { width: null, height: null }\n    },\n\n    twitter: {\n      name: 'twitter',\n      url: '/auth/twitter',\n      authorizationEndpoint: 'https://api.twitter.com/oauth/authenticate',\n      redirectUri: window.location.origin,\n      oauthType: '1.0',\n      popupOptions: { width: 495, height: 645 }\n    },\n\n    bitbucket: {\n      name: 'bitbucket',\n      url: '/auth/bitbucket',\n      authorizationEndpoint: 'https://bitbucket.org/site/oauth2/authorize',\n      redirectUri: window.location.origin + '/',\n      optionalUrlParams: ['scope'],\n      scope: ['email'],\n      scopeDelimiter: ' ',\n      oauthType: '2.0',\n      popupOptions: { width: 1020, height: 618 }\n    },\n\n    linkedin: {\n      name: 'linkedin',\n      url: '/auth/linkedin',\n      authorizationEndpoint: 'https://www.linkedin.com/oauth/v2/authorization',\n      redirectUri: window.location.origin,\n      requiredUrlParams: ['state'],\n      scope: ['r_emailaddress'],\n      scopeDelimiter: ' ',\n      state: 'STATE',\n      oauthType: '2.0',\n      popupOptions: { width: 527, height: 582 }\n    },\n\n    live: {\n      name: 'live',\n      url: '/auth/live',\n      authorizationEndpoint: 'https://login.live.com/oauth20_authorize.srf',\n      redirectUri: window.location.origin,\n      requiredUrlParams: ['display', 'scope'],\n      scope: ['wl.emails'],\n      scopeDelimiter: ' ',\n      display: 'popup',\n      oauthType: '2.0',\n      popupOptions: { width: 500, height: 560 }\n    },\n\n    oauth1: {\n      name: null,\n      url: '/auth/oauth1',\n      authorizationEndpoint: null,\n      redirectUri: window.location.origin,\n      oauthType: '1.0',\n      popupOptions: null\n    },\n\n    oauth2: {\n      name: null,\n      url: '/auth/oauth2',\n      clientId: null,\n      redirectUri: window.location.origin,\n      authorizationEndpoint: null,\n      defaultUrlParams: ['response_type', 'client_id', 'redirect_uri'],\n      requiredUrlParams: null,\n      optionalUrlParams: null,\n      scope: null,\n      scopePrefix: null,\n      scopeDelimiter: null,\n      state: null,\n      oauthType: '2.0',\n      popupOptions: null,\n      responseType: 'code',\n      responseParams: {\n        code: 'code',\n        clientId: 'clientId',\n        redirectUri: 'redirectUri'\n      }\n    }\n  }\n};\n\nvar CookieStorage = function CookieStorage(defaultOptions) {\n  this._defaultOptions = objectExtend({\n    domain: window.location.hostname,\n    expires: null,\n    path: '/',\n    secure: false\n  }, defaultOptions);\n};\n\nCookieStorage.prototype.setItem = function setItem (key, value) {\n  var options = objectExtend({}, this._defaultOptions);\n  var cookie = formatCookie(key, value, options);\n  this._setCookie(cookie);\n};\n\nCookieStorage.prototype.getItem = function getItem (key) {\n  var cookies = parseCookies(this._getCookie());\n  return cookies.hasOwnProperty(key) ? cookies[key] : null;\n};\n\nCookieStorage.prototype.removeItem = function removeItem (key) {\n  var value = '';\n  var defaultOptions = objectExtend({}, this._defaultOptions);\n  var options = objectExtend(defaultOptions, {\n    expires: new Date(0)\n  });\n  var cookie = formatCookie(key, value, options);\n  this._setCookie(cookie);\n};\n\nCookieStorage.prototype._getCookie = function _getCookie () {\n  return typeof document === 'undefined'\n    ? '' : typeof document.cookie === 'undefined'\n      ? '' : document.cookie;\n};\n\nCookieStorage.prototype._setCookie = function _setCookie (cookie) {\n  document.cookie = cookie;\n};\n\nvar LocalStorage = function LocalStorage(namespace) {\n  this.namespace = namespace || null;\n};\n\nLocalStorage.prototype.setItem = function setItem (key, value) {\n  window.localStorage.setItem(this._getStorageKey(key), value);\n};\n\nLocalStorage.prototype.getItem = function getItem (key) {\n  return window.localStorage.getItem(this._getStorageKey(key))\n};\n\nLocalStorage.prototype.removeItem = function removeItem (key) {\n  window.localStorage.removeItem(this._getStorageKey(key));\n};\n\nLocalStorage.prototype._getStorageKey = function _getStorageKey (key) {\n  if (this.namespace) {\n    return [this.namespace, key].join('.')\n  }\n  return key;\n};\n\nvar MemoryStorage = function MemoryStorage(namespace) {\n  this.namespace = namespace || null;\n  this._storage = {};\n};\n\nMemoryStorage.prototype.setItem = function setItem (key, value) {\n  this._storage[this._getStorageKey(key)] = value;\n};\n\nMemoryStorage.prototype.getItem = function getItem (key) {\n  return this._storage[this._getStorageKey(key)]\n};\n\nMemoryStorage.prototype.removeItem = function removeItem (key) {\n  delete this._storage[this._getStorageKey(key)];\n};\n\nMemoryStorage.prototype._getStorageKey = function _getStorageKey (key) {\n  if (this.namespace) {\n    return [this.namespace, key].join('.')\n  }\n  return key;\n};\n\nvar LocalStorage$2 = function LocalStorage(namespace) {\n  this.namespace = namespace || null;\n};\n\nLocalStorage$2.prototype.setItem = function setItem (key, value) {\n  window.sessionStorage.setItem(this._getStorageKey(key), value);\n};\n\nLocalStorage$2.prototype.getItem = function getItem (key) {\n  return window.sessionStorage.getItem(this._getStorageKey(key))\n};\n\nLocalStorage$2.prototype.removeItem = function removeItem (key) {\n  window.sessionStorage.removeItem(this._getStorageKey(key));\n};\n\nLocalStorage$2.prototype._getStorageKey = function _getStorageKey (key) {\n  if (this.namespace) {\n    return [this.namespace, key].join('.')\n  }\n  return key;\n};\n\nfunction StorageFactory(options) {\n  switch (options.storageType) {\n    case 'localStorage':\n      try {\n        window.localStorage.setItem('testKey', 'test');\n        window.localStorage.removeItem('testKey');\n        return new LocalStorage(options.storageNamespace)\n      } catch(e) {}\n\n    case 'sessionStorage':\n      try {\n        window.sessionStorage.setItem('testKey', 'test');\n        window.sessionStorage.removeItem('testKey');\n        return new LocalStorage$2(options.storageNamespace)\n      } catch (e) {}\n      \n    case 'cookieStorage':\n      return new CookieStorage(options.cookieStorage);\n\n    case 'memoryStorage': \n    default:\n      return new MemoryStorage(options.storageNamespace)\n      break;\n  }\n}\n\n/**\n * OAuth2 popup management class\n * \n * @author Sahat Yalkabov <https://github.com/sahat>\n * @copyright Class mostly taken from https://github.com/sahat/satellizer \n * and adjusted to fit vue-social-auth library\n */\nvar OAuthPopup = function OAuthPopup(url, name, popupOptions) {\n  this.popup = null;\n  this.url = url;\n  this.name = name;\n  this.popupOptions = popupOptions;\n};\n\nOAuthPopup.prototype.open = function open (redirectUri, skipPooling) {\n  try {\n    this.popup = window.open(this.url, this.name, this._stringifyOptions());\n    if (this.popup && this.popup.focus) {\n      this.popup.focus();\n    }\n\n    if (skipPooling) {\n      return Promise$1.resolve()\n    } else {\n      return this.pooling(redirectUri)\n    }\n  } catch(e) {\n    return Promise$1.reject(new Error('OAuth popup error occurred'))\n  }\n};\n\nOAuthPopup.prototype.pooling = function pooling (redirectUri) {\n    var this$1 = this;\n\n  return new Promise$1(function (resolve, reject) {\n    var redirectUriParser = document.createElement('a');\n    redirectUriParser.href = redirectUri;\n    var redirectUriPath = getFullUrlPath(redirectUriParser);\n\n    var poolingInterval = setInterval(function () {\n      if (!this$1.popup || this$1.popup.closed || this$1.popup.closed === undefined) {\n        clearInterval(poolingInterval);\n        poolingInterval = null;\n        reject(new Error('Auth popup window closed'));\n      }\n\n      try {\n        var popupWindowPath = getFullUrlPath(this$1.popup.location);\n\n        if (popupWindowPath === redirectUriPath) {\n          if (this$1.popup.location.search || this$1.popup.location.hash) {\n            var query = parseQueryString(this$1.popup.location.search.substring(1).replace(/\\/$/, ''));\n            var hash = parseQueryString(this$1.popup.location.hash.substring(1).replace(/[\\/$]/, ''));\n            var params = objectExtend({}, query);\n            params = objectExtend(params, hash);\n\n            if (params.error) {\n              reject(new Error(params.error));\n            } else {\n              resolve(params);\n            }\n          } else {\n            reject(new Error('OAuth redirect has occurred but no query or hash parameters were found.'));\n          }\n\n          clearInterval(poolingInterval);\n          poolingInterval = null;\n          this$1.popup.close();\n        }\n      } catch(e) {\n        // Ignore DOMException: Blocked a frame with origin from accessing a cross-origin frame.\n      }\n    }, 250);\n  })\n};\n\nOAuthPopup.prototype._stringifyOptions = function _stringifyOptions () {\n    var this$1 = this;\n\n  var options = [];\n  for (var optionKey in this$1.popupOptions) {\n    if (!isUndefined(this$1.popupOptions[optionKey])) {\n      options.push((optionKey + \"=\" + (this$1.popupOptions[optionKey])));\n    }\n  }\n  return options.join(',')\n};\n\nvar defaultProviderConfig = {\n  name: null,\n  url: null,\n  authorizationEndpoint: null,\n  scope: null,\n  scopePrefix: null,\n  scopeDelimiter: null,\n  redirectUri: null,\n  requiredUrlParams: null,\n  defaultUrlParams: null,\n  oauthType: '1.0',\n  popupOptions: {}\n};\n\nvar OAuth = function OAuth($http, storage, providerConfig, options) {\n  this.$http = $http;\n  this.storage = storage;\n  this.providerConfig = objectExtend({}, defaultProviderConfig);\n  this.providerConfig = objectExtend(this.providerConfig, providerConfig);\n  this.options = options;\n};\n\n/**\n * Initialize OAuth1 process \n * @param{Object} userData User data\n * @return {Promise}\n */\nOAuth.prototype.init = function init (userData) {\n    var this$1 = this;\n\n  this.oauthPopup = new OAuthPopup('about:blank', this.providerConfig.name, this.providerConfig.popupOptions);\n\n  if (window && !window['cordova']) {\n    this.oauthPopup.open(this.providerConfig.redirectUri, true);\n  }\n\n  return this.getRequestToken().then(function (response) {\n    return this$1.openPopup(response).then(function (popupResponse) {\n      return this$1.exchangeForToken(popupResponse, userData)\n    })\n  })\n};\n\n/**\n * Get OAuth1 request token\n * @return {Promise}\n */\nOAuth.prototype.getRequestToken = function getRequestToken () {\n  var requestOptions = {};\n  requestOptions.method = 'POST';\n  requestOptions[this.options.requestDataKey] = objectExtend({}, this.providerConfig);\n  requestOptions.withCredentials = this.options.withCredentials;\n  if (this.options.baseUrl) {\n    requestOptions.url = joinUrl(this.options.baseUrl, this.providerConfig.url);\n  } else {\n    requestOptions.url = this.providerConfig.url;\n  }\n\n  return this.$http(requestOptions)\n};\n\n/**\n * Open OAuth1 popup\n * @param{Object} response Response object containing request token\n * @return {Promise}\n */\nOAuth.prototype.openPopup = function openPopup (response) {\n  var url = [this.providerConfig.authorizationEndpoint, this.buildQueryString(response[this.options.responseDataKey])].join('?');\n\n  this.oauthPopup.popup.location = url;\n  if (window && window['cordova']) {\n    return this.oauthPopup.open(this.providerConfig.redirectUri)\n  } else {\n    return this.oauthPopup.pooling(this.providerConfig.redirectUri)\n  }\n};\n\n/**\n * Exchange token and token verifier for access token\n * @param{Object} oauth  OAuth data containing token and token verifier\n * @param{Object} userData User data\n * @return {Promise}\n */\nOAuth.prototype.exchangeForToken = function exchangeForToken (oauth, userData) {\n  var payload = objectExtend({}, userData);\n  payload = objectExtend(payload, oauth);\n  var requestOptions = {};\n  requestOptions.method = 'POST';\n  requestOptions[this.options.requestDataKey] = payload;\n  requestOptions.withCredentials = this.options.withCredentials;\n  if (this.options.baseUrl) {\n    requestOptions.url = joinUrl(this.options.baseUrl, this.providerConfig.url);\n  } else {\n    requestOptions.url = this.providerConfig.url;\n  }\n  return this.$http(requestOptions)\n};\n\nOAuth.prototype.buildQueryString = function buildQueryString (params) {\n  var parsedParams = [];\n  for (var key in params) {\n    var value = params[key];\n    parsedParams.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));\n  }\n  return parsedParams.join('&');\n};\n\n/**\n * Default provider configuration\n * @type {Object}\n */\nvar defaultProviderConfig$1 = {\n  name: null,\n  url: null,\n  clientId: null,\n  authorizationEndpoint: null,\n  redirectUri: null,\n  scope: null,\n  scopePrefix: null,\n  scopeDelimiter: null,\n  state: null,\n  requiredUrlParams: null,\n  defaultUrlParams: ['response_type', 'client_id', 'redirect_uri'],\n  responseType: 'code',\n  responseParams: {\n    code: 'code',\n    clientId: 'clientId',\n    redirectUri: 'redirectUri'\n  },\n  oauthType: '2.0',\n  popupOptions: {}\n};\n\nvar OAuth2 = function OAuth2($http, storage, providerConfig, options) {\n  this.$http = $http;\n  this.storage = storage;\n  this.providerConfig = objectExtend({}, defaultProviderConfig$1);\n  this.providerConfig = objectExtend(this.providerConfig, providerConfig);\n  this.options = options;\n};\n\nOAuth2.prototype.init = function init (userData) {\n    var this$1 = this;\n\n  var stateName = this.providerConfig.name + '_state';\n  if (isFunction(this.providerConfig.state)) {\n    this.storage.setItem(stateName, this.providerConfig.state());\n  } else if (isString(this.providerConfig.state)) {\n    this.storage.setItem(stateName, this.providerConfig.state);\n  }\n\n  var url = [this.providerConfig.authorizationEndpoint, this._stringifyRequestParams()].join('?');\n\n  this.oauthPopup = new OAuthPopup(url, this.providerConfig.name, this.providerConfig.popupOptions);\n    \n  return new Promise(function (resolve, reject) {\n    this$1.oauthPopup.open(this$1.providerConfig.redirectUri).then(function (response) {\n      if (this$1.providerConfig.responseType === 'code' || !this$1.providerConfig.url) {\n        return resolve(response)\n      }\n\n      if (response.state && response.state !== this$1.storage.getItem(stateName)) {\n        return reject(new Error('State parameter value does not match original OAuth request state value'))\n      }\n\n      resolve(this$1.exchangeForToken(response, userData));\n    }).catch(function (err) {\n      reject(err);\n    });\n  })\n};\n\n/**\n * Exchange temporary oauth data for access token\n * @author Sahat Yalkabov <https://github.com/sahat>\n * @copyright Method taken from https://github.com/sahat/satellizer\n * \n * @param{[type]} oauth  [description]\n * @param{[type]} userData [description]\n * @return {[type]}        [description]\n */\nOAuth2.prototype.exchangeForToken = function exchangeForToken (oauth, userData) {\n    var this$1 = this;\n\n  var payload = objectExtend({}, userData);\n\n  for (var key in defaultProviderConfig$1.responseParams) {\n    var value = defaultProviderConfig$1[key];\n\n    switch(key) {\n      case 'code':\n        payload[key] = oauth.code;\n        break\n      case 'clientId':\n        payload[key] = this$1.providerConfig.clientId;\n        break\n      case 'redirectUri':\n        payload[key] = this$1.providerConfig.redirectUri;\n        break\n      default:\n        payload[key] = oauth[key];\n    }\n  }\n\n  if (oauth.state) {\n    payload.state = oauth.state;\n  }\n\n  var exchangeTokenUrl;\n  if (this.options.baseUrl) {\n    exchangeTokenUrl = joinUrl(this.options.baseUrl, this.providerConfig.url);\n  } else {\n    exchangeTokenUrl = this.providerConfig.url;\n  }\n\n  return this.$http.post(exchangeTokenUrl, payload, {\n    withCredentials: this.options.withCredentials\n  })\n};\n\n/**\n * Stringify oauth params\n * @author Sahat Yalkabov <https://github.com/sahat>\n * @copyright Method taken from https://github.com/sahat/satellizer\n * \n * @return {String}\n */\nOAuth2.prototype._stringifyRequestParams = function _stringifyRequestParams () {\n    var this$1 = this;\n\n  var keyValuePairs = [];\n  var paramCategories = ['defaultUrlParams', 'requiredUrlParams', 'optionalUrlParams'];\n\n  paramCategories.forEach(function (categoryName) {\n    if (!this$1.providerConfig[categoryName]) { return }\n    if (!Array.isArray(this$1.providerConfig[categoryName])) { return }\n\n    this$1.providerConfig[categoryName].forEach(function (paramName) {\n      var camelCaseParamName = camelCase(paramName);\n      var paramValue = isFunction(this$1.providerConfig[paramName]) ? this$1.providerConfig[paramName]() : this$1.providerConfig[camelCaseParamName];\n\n      if (paramName === 'redirect_uri' && !paramValue) { return }\n\n      if (paramName === 'state') {\n        var stateName = this$1.providerConfig.name + '_state';\n        paramValue = encodeURIComponent(this$1.storage.getItem(stateName));\n      }\n      if (paramName === 'scope' && Array.isArray(paramValue)) {\n        paramValue = paramValue.join(this$1.providerConfig.scopeDelimiter);\n        if (this$1.providerConfig.scopePrefix) {\n          paramValue = [this$1.providerConfig.scopePrefix, paramValue].join(this$1.providerConfig.scopeDelimiter);\n        }\n      }\n\n      keyValuePairs.push([paramName, paramValue]);\n    });\n  });\n\n  return keyValuePairs.map(function (param) {\n    return param.join('=')\n  }).join('&')\n};\n\nvar VueSocialauth = function VueSocialauth($http, overrideOptions) {\n  var options = objectExtend({}, defaultOptions);\n  options = objectExtend(options, overrideOptions);\n  var storage = StorageFactory(options);\n\n  Object.defineProperties(this, {\n    $http: {\n      get: function get() {\n        return $http\n      }\n    },\n\n    options: {\n      get: function get() {\n        return options\n      }\n    },\n\n    storage: {\n      get: function get() {\n        return storage\n      }\n    },\n\n    tokenName: {\n      get: function get() {\n        if (this.options.tokenPrefix) {\n          return [this.options.tokenPrefix, this.options.tokenName].join('_')\n        } else {\n          return this.options.tokenName\n        }\n      }\n    }\n  });\n\n  // Setup request interceptors\n  if (this.options.bindRequestInterceptor && isFunction(this.options.bindRequestInterceptor) &&\n      this.options.bindResponseInterceptor && isFunction(this.options.bindResponseInterceptor)) {\n\n    this.options.bindRequestInterceptor.call(this, this);\n    this.options.bindResponseInterceptor.call(this, this);\n  } else {\n    throw new Error('Both request and response interceptors must be functions')\n  }\n};\n\n/**\n * Check if user is authenticated\n * @author Sahat Yalkabov <https://github.com/sahat>\n * @copyright Method taken from https://github.com/sahat/satellizer\n * @return {Boolean}\n */\n// isAuthenticated() {\n// let token = this.storage.getItem(this.tokenName)\n\n// if (token) {// Token is present\n//   if (token.split('.').length === 3) {// Token with a valid JWT format XXX.YYY.ZZZ\n//     try { // Could be a valid JWT or an access token with the same format\n//       const base64Url = token.split('.')[1];\n//       const base64 = base64Url.replace('-', '+').replace('_', '/');\n//       const exp = JSON.parse(window.atob(base64)).exp;\n//       if (typeof exp === 'number') {// JWT with an optonal expiration claims\n//         return Math.round(new Date().getTime() / 1000) < exp;\n//       }\n//     } catch (e) {\n//       return true;// Pass: Non-JWT token that looks like JWT\n//     }\n//   }\n//   return true;// Pass: All other tokens\n// }\n// return false\n// }\n\n/**\n * Get token if user is authenticated\n * @return {String} Authentication token\n */\nVueSocialauth.prototype.getToken = function getToken () {\n  return this.storage.getItem(this.tokenName)\n};\n\n/**\n * Set new authentication token\n * @param {String|Object} token\n */\n// setToken(response) {\n// if (response[this.options.responseDataKey]) {\n//   response = response[this.options.responseDataKey];\n// }\n    \n// let token;\n// if (response.access_token) {\n//   if (isObject(response.access_token) && isObject(response.access_token[this.options.responseDataKey])) {\n//     response = response.access_token\n//   } else if (isString(response.access_token)) {\n//     token = response.access_token\n//   }\n// }\n\n// if (!token && response) {\n//   token = response[this.options.tokenName]\n// }\n\n// if (token) {\n//   this.storage.setItem(this.tokenName, token)\n// }\n// }\n\n// getPayload() {\n// const token = this.storage.getItem(this.tokenName);\n\n// if (token && token.split('.').length === 3) {\n//   try {\n//     const base64Url = token.split('.')[1];\n//     const base64 = base64Url.replace('-', '+').replace('_', '/');\n//     return JSON.parse(decodeBase64(base64));\n//   } catch (e) {}\n// }\n// }\n  \n/**\n * Login user using email and password\n * @param{Object} user         User data\n * @param{Object} requestOptions Request options\n * @return {Promise}             Request promise\n */\n// login(user, requestOptions) {\n// requestOptions = requestOptions || {}\n// requestOptions.url = requestOptions.url ? requestOptions.url : joinUrl(this.options.baseUrl, this.options.loginUrl)\n// requestOptions[this.options.requestDataKey] = user || requestOptions[this.options.requestDataKey]\n// requestOptions.method = requestOptions.method || 'POST'\n// requestOptions.withCredentials = requestOptions.withCredentials || this.options.withCredentials\n\n// return this.$http(requestOptions).then((response) => {\n//   this.setToken(response)\n//   return response\n// })\n// }\n\n/**\n * Register new user\n * @param{Object} user         User data\n * @param{Object} requestOptions Request options\n * @return {Promise}             Request promise\n */\n// register(user, requestOptions) {\n// requestOptions = requestOptions || {}\n// requestOptions.url = requestOptions.url ? requestOptions.url : joinUrl(this.options.baseUrl, this.options.registerUrl)\n// requestOptions[this.options.requestDataKey] = user || requestOptions[this.options.requestDataKey]\n// requestOptions.method = requestOptions.method || 'POST'\n// requestOptions.withCredentials = requestOptions.withCredentials || this.options.withCredentials\n\n// return this.$http(requestOptions).then((response) => {\n//   this.setToken(response)\n//   return response\n// })\n// }\n\n/**\n * Logout current user\n * @param{Object} requestOptionsLogout request options object\n * @return {Promise}              Request promise\n */\n// logout(requestOptions) {\n// if (!this.isAuthenticated()) {\n//   return Promise.reject(new Error('There is no currently authenticated user'))\n// }\n\n// requestOptions = requestOptions || {}\n// requestOptions.url = requestOptions.logoutUrl || this.options.logoutUrl\n\n// if (requestOptions.url) {\n//   requestOptions.method = requestOptions.method || 'POST'\n//   requestOptions.withCredentials = requestOptions.withCredentials || this.options.withCredentials\n\n//   return this.$http(requestOptions).then((response) => {\n//     this.storage.removeItem(this.tokenName)\n//   })\n// } else {\n//   this.storage.removeItem(this.tokenName)\n//   return Promise.resolve();\n// }\n// }\n\n/**\n * Authenticate user using authentication provider\n * \n * @param{String} provider     Provider name\n * @param{Object} userData     User data\n * @param{Object} requestOptions Request options\n * @return {Promise}             Request promise\n */\nVueSocialauth.prototype.authenticate = function authenticate (provider, userData, requestOptions) {\n    var this$1 = this;\n\n  return new Promise$1(function (resolve, reject) {\n    var providerConfig = this$1.options.providers[provider];\n    if (!providerConfig) {\n      return reject(new Error('Unknown provider'))\n    }\n\n    var providerInstance;\n    switch (providerConfig.oauthType) {\n      case '1.0':\n        providerInstance = new OAuth(this$1.$http, this$1.storage, providerConfig, this$1.options);\n        break\n      case '2.0':\n        providerInstance = new OAuth2(this$1.$http, this$1.storage, providerConfig, this$1.options);\n        break\n      default:\n        return reject(new Error('Invalid OAuth type'))\n        break\n    }\n\n    return providerInstance.init(userData).then(function (response) {\n      return resolve(response)\n\n    }).catch(function (err) { return reject(err); })\n  })\n};\n\n/**\n * VueSocialauth plugin\n * @param {Object} Vue\n * @param {Object} options\n */\nfunction plugin(Vue, options) {\n  if (plugin.installed) {\n    return\n  }\n  plugin.installed = true;\n\n  var vueAuthInstance = null;\n  Object.defineProperties(Vue.prototype, {\n    $auth: {\n      get: function get() {\n        if (!vueAuthInstance) {\n          // Request handler library not found, throw error\n          if (!this.$http) {\n            throw new Error('Request handler instance not found')\n          }\n\n          vueAuthInstance = new VueSocialauth(this.$http, options);\n        }\n        return vueAuthInstance\n      }\n    }\n  });\n}\n\n/**\n * External factory helper for ES5 and CommonJS\n * @param  {Object} $http     Instance of request handling library\n * @param  {Object} options   Configuration object\n * @return {VueSocialauth}  VueSocialauth instance\n */\nplugin.factory = function ($http, options) {\n  return new VueSocialauth($http, options)\n};\n\nexport default plugin;\nexport { VueSocialauth };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}